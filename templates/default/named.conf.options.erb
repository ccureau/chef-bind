// Generated by Chef for <%= node['fqdn'] %>
// Local modifications will be overwritten.

options {
  directory "<%= node['bind']['rundir'] %>";
  dump-file "<%= node['bind']['statdir'] %>cache_dump.db";
  statistics-file "<%= node['bind']['statdir'] %>named_stats.txt";
  memstatistics-file "<%= node['bind']['statdir'] %>named_mem_stats.txt";
  <%if node['bind']['emptyzones'] == true %>
  empty-zones-enable yes;
  <% end %>
  <% if node['bind']['dnssec'] == true %>
  dnssec-enable yes;
  dnssec-validation yes;
  dnssec-lookaside auto;

  /* Path to ISC DLV key */
  bindkeys-file "<%= node['bind']['dir'] %>named.iscdlv.key";

  managed-keys-directory "<%= node['bind']['keydir'] %>";
  <% end %>
  <% node['bind']['options'].each do |option, value| %>
    <% if value.is_a?(Array) %>
      <%= option %> {
        <% value.each do |val| %>
          <%= val %>;
        <% end %>
      };
    <% else %>
      <%= option %> <%= value %>;
    <% end %>
  <% end %>
};
